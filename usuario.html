<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="imgs/favicon.png" type="image/png">
    <title>Usuarios</title>
    <link rel="stylesheet" href="css/styles_usuario.css">
    <style>
       /* Estilos espec√≠ficos para el checkbox de mostrar contrase√±a */
        .mostrar-contrasena {
            display: flex;
            align-items: center;
            margin: 0px 0 5px 0;
        }
        
        .mostrar-contrasena input[type="checkbox"] {
            margin: 0 8px 0 0;
            width: 16px;
            height: 16px;
            cursor: pointer;
            flex-shrink: 0;
        }
        
        .mostrar-contrasena label {
            margin: 0;
            font-size: 14px;
            color: #555;
            cursor: pointer;
            font-weight: normal;
        }
    </style>
</head>

<body>

    <!-- Encabezado -->
    <header>
        <button class="logo-btn" onclick="irInicio()" >
            <img src="imgs/bicicleta.png" alt="Logo bicicleta">
        </button>
        <h1>Usuarios</h1>
        <div class="usuario">
            <span class="nombre-usuario">Usuario</span>
            <button class="user-btn" onclick="toggleMenu()">
                <img src="imgs/logo_user.png" alt="Usuario">
            </button>
            <div id="menuUsuario" class="menu-usuario">
                <a href="#">Cerrar sesi√≥n</a>
            </div>
        </div>
    </header>

    <main>

        <!-- Formulario -->
        <div id="contenedorFormulario">
            <section class="formulario" autocomplete="off">
                <button class="btn-registrar">Agregar Usuario</button>
                <button class="btn-actualizar" style="display:none;">Actualizar Usuario</button>
                <button id="btnCancelar" class="btn-cancelar" style="display:none;">Cancelar</button>

                <label>Nombre: </label>
                <input type="text" id="nombre" placeholder="Escriba aqu√≠" autocomplete="off">
                <span id="error-nombre" class="mensaje-error"></span>
                <label>Correo el√©ctronico: </label>
                <input type="email" id="correo" placeholder="Escriba aqu√≠" autocomplete="off">
                <span id="error-correo" class="mensaje-error"></span>
                <div id="campo-usuario-contrasena" autocomplete="off">
                    <label>Usuario: </label>
                    <input type="text" id="usuario" placeholder="Escriba aqu√≠" autocomplete="new-user">
                    <span id="error-usuario" class="mensaje-error"></span>
                    <label>Contrase√±a: </label>
                    <input type="password" id="password" placeholder="Escriba aqu√≠" autocomplete="new-password">
                    <span id="error-password" class="mensaje-error"></span>
                    
                    <!-- Checkbox para mostrar contrase√±a -->
                    <div class="mostrar-contrasena">
                        <input type="checkbox" id="mostrarPassword">
                        <label for="mostrarPassword">Mostrar contrase√±a</label>
                    </div>
                </div>
                <label>Rol del usuario: </label>
                <select id="rol">
                    <option value="" disabled selected>Seleccionar Rol</option>
                    <option value="1">Administrador</option>
                    <option value="2">Empleado</option>
                </select>

                <p
                    style="font-size: 13px; color: rgb(0, 0, 0); margin-top: 5px; margin-bottom: 10px; text-align: center;">
                    Presione
                    "Enter" para cambiar de campo</p>
                <div id="campo-estado" style="display:none;">
                    <label>Estado: </label>
                    <select name="estado" id="estado">
                        <option value="Activo">Activo</option>
                        <option value="Inactivo">Inactivo</option>
                    </select>
                </div>
                <div id="mensaje-usuario-contrasena"
                    style="display:none; color:#555; font-size:0.9em; margin-bottom:10px;">
                    ‚ö† Usuario y Contrase√±a no se pueden modificar aqu√≠. Cada usuario puede cambiar su Contrase√±a desde
                    su
                    inicio de sesi√≥n.
                </div>
            </section>
        </div>

        <!-- Tabla -->
        <section class="tabla">
            <!-- Header con bot√≥n volver, t√≠tulo y buscador -->
            <div class="tabla-header"
                style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <!-- Bot√≥n volver (izquierda) -->
                <button id="btnVolver" class="btn-volver" style="display: none; margin-right: auto;">
                    ‚Üê Volver
                </button>

                <!-- Buscador (derecha) -->
                <div class="buscador" style="margin-left: auto;">
                    <input type="text" id="inputBuscarUsuarios" placeholder="Buscar..." autocomplete="off">
                    <button><img src="imgs/lupa.png" alt="Buscar"></button>
                </div>
                <div>
                    <button id="btnInactivos" class="btn-filtro">üë• Habilitar Usuarios</button>
                </div>
            </div>

            <!-- Filtros -->

            <!-- T√≠tulo centrado -->
            <h2 id="estadoTabla" style="margin: 0 auto; color: #050505; font-size: 16px;">
                Mostrando usuarios Activos
            </h2>

            <!-- Contenedor de la tabla -->
            <div class="tabla-contenedor">
                <table>
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Correo</th>
                            <th>Usuario</th>
                            <th>Rol</th>
                            <th>Acci√≥n</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Los datos se cargar√°n aqu√≠ -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Modal de mensajes -->
        <div id="modalMensaje" class="modal">
            <div class="modal-mensaje-contenido">
                <div class="modal-mensaje-icono" id="modalIcono"></div>
                <div class="modal-mensaje-texto">
                    <h2 id="modalTitulo"></h2>
                    <p id="modalTexto"></p>
                </div>
                <button id="cerrarMensaje" class="btn-cerrar">X</button>
            </div>
        </div>

        <!-- Modal de Confirmaci√≥n -->
        <div id="modalConfirmacion" class="modal-mensaje" style="display: none;">
            <div class="modal-contenido">
                <div class="modal-mensaje-icono icono-advertencia">‚ö†Ô∏è</div>
                <h3 id="confirmacionTitulo">Confirmar activaci√≥n</h3>
                <p id="confirmacionMensaje"></p>
                <div class="botones-confirmacion">
                    <button id="btnConfirmarSi" class="btn btn-primary">
                        <i class="fas fa-check"></i> S√≠, activar
                    </button>
                    <button id="btnConfirmarNo" class="btn btn-secondary">
                        <i class="fas fa-times"></i> Cancelar
                    </button>
                </div>
            </div>
        </div>
    </main>
</body>

<script src="js/usuarios.js"></script>
<!-- Incluir SweetAlert2 -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
    // Funci√≥n para mostrar/ocultar contrase√±a
    document.addEventListener('DOMContentLoaded', function() {
        const mostrarPasswordCheckbox = document.getElementById('mostrarPassword');
        const passwordInput = document.getElementById('password');
        
        if (mostrarPasswordCheckbox && passwordInput) {
            mostrarPasswordCheckbox.addEventListener('change', function() {
                if (this.checked) {
                    passwordInput.type = 'text';
                } else {
                    passwordInput.type = 'password';
                }
            });
        }
    });
</script>

</html>